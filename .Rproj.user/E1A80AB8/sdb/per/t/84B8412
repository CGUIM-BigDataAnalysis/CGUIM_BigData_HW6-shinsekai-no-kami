{
    "collab_server" : "",
    "contents" : "---\ntitle: \"男子網球勝率因子分析\"\noutput: github_document\n---\n\n## 簡名浩、楊博翰分析議題背景\n網球堪稱世界三大運動之一，也有紳士運動之稱，其起源於中世紀晚期的法國宮廷遊戲；而現代網球規則則是由19世紀一位英國少校所發明。\n一場網球比賽大致由分、局及盤三要素組成，參與人數可以是2人或4人分為兩方，進行方式為雙方格網持拍相互將球回及過網，在允許球落地彈跳一次的前提下，首先令對方無法做出有效回擊球者便獲得\n1分(point)，先得4分者得1局(game)，並且先得6局者得1盤(set)。現今ATP(國際男子職業網球協會)賽事為縮短比賽耗時，獲勝機制皆從五盤三勝改為三盤兩勝制。\n在網球眾多賽事中，年度四大滿貫賽事是其中等級最高，也最被重視的比賽，其規模甚至超越四年一度的夏季奧林匹克運動會網球項目，即便是平常不接觸ATP賽事的觀眾都能因為大滿貫賽事而出現\"一日球迷\"的情況，它們分別為：澳洲網球公開賽、法國網球公開賽、溫布頓網球錦標賽以及美國網球公開賽，其中歷史最悠久，被視為網球最高榮譽賽事者為溫布頓網球錦標賽。即便溫布頓網球錦標賽在1877年即舉辦，但當時的大滿貫賽事不允許職業選手參賽，直到1968年始成為公開賽事，因此世人將此後的時期稱為\"網球公開化年代\"，也是今次我們主要分析的時期(1968~2017)。\n在早期，大滿貫比賽皆效仿溫布頓在草地上舉行，隨後逐漸發展出自己的特色。現在按場地材質可將場地分為草地、紅土、硬地及室內地毯等。\n\n## 分析動機\n此次分析主要分析勝率與球員其他數據之間的關係。網球是屬於紳士的運動，不如其他主流球類運動如足球、橄欖球或籃球等需要肢體接觸，除了顯得有些野蠻之外，也時常能發生衝突爭議。網球的競爭中，雙方揖讓而升，網子隔開雙方不會有衝突的發生，純粹是力與智的較量，堪稱最高尚的運動之一，深得朕心，是以以此為題分析，一方面對於網球有一定的背景知識了解，另一方面分析起來也比較開心，不會只為滿足老師虛應故事。\n\n## 使用資料\nGitHub Jeffsackmann repository：tennis_atp：\n  https://github.com/JeffSackmann/tennis_atp\n使用資料：\n1.公開化年代後歷年比賽資料：atp_matches_year.csv\n2.歷年所有職業球員名單：atp_players.csv\n3.公開化年代後球員排名波動：atp_rankings_decades.csv\n\n載入使用資料們\n```{r}\n#這是R Code Chunk\nlibrary(readr)\natp_matches_1968 <- read_csv(\"D:/atp_datas/atp_matches_1968.csv\")\natp_matches_1969 <- read_csv(\"D:/atp_datas/atp_matches_1969.csv\")\natp_matches_1970 <- read_csv(\"D:/atp_datas/atp_matches_1970.csv\")\natp_matches_1971 <- read_csv(\"D:/atp_datas/atp_matches_1971.csv\")\natp_matches_1972 <- read_csv(\"D:/atp_datas/atp_matches_1972.csv\")\natp_matches_1973 <- read_csv(\"D:/atp_datas/atp_matches_1973.csv\")\natp_matches_1974 <- read_csv(\"D:/atp_datas/atp_matches_1974.csv\")\natp_matches_1975 <- read_csv(\"D:/atp_datas/atp_matches_1975.csv\")\natp_matches_1976 <- read_csv(\"D:/atp_datas/atp_matches_1976.csv\")\natp_matches_1977 <- read_csv(\"D:/atp_datas/atp_matches_1977.csv\")\natp_matches_1978 <- read_csv(\"D:/atp_datas/atp_matches_1978.csv\")\natp_matches_1979 <- read_csv(\"D:/atp_datas/atp_matches_1979.csv\")\natp_matches_1980 <- read_csv(\"D:/atp_datas/atp_matches_1980.csv\")\natp_matches_1981 <- read_csv(\"D:/atp_datas/atp_matches_1981.csv\")\natp_matches_1982 <- read_csv(\"D:/atp_datas/atp_matches_1982.csv\")\natp_matches_1983 <- read_csv(\"D:/atp_datas/atp_matches_1983.csv\")\natp_matches_1984 <- read_csv(\"D:/atp_datas/atp_matches_1984.csv\")\natp_matches_1985 <- read_csv(\"D:/atp_datas/atp_matches_1985.csv\")\natp_matches_1986 <- read_csv(\"D:/atp_datas/atp_matches_1986.csv\")\natp_matches_1987 <- read_csv(\"D:/atp_datas/atp_matches_1987.csv\")\natp_matches_1988 <- read_csv(\"D:/atp_datas/atp_matches_1988.csv\")\natp_matches_1989 <- read_csv(\"D:/atp_datas/atp_matches_1989.csv\")\natp_matches_1990 <- read_csv(\"D:/atp_datas/atp_matches_1990.csv\")\natp_matches_1991 <- read_csv(\"D:/atp_datas/atp_matches_1991.csv\")\natp_matches_1992 <- read_csv(\"D:/atp_datas/atp_matches_1992.csv\")\natp_matches_1993 <- read_csv(\"D:/atp_datas/atp_matches_1993.csv\")\natp_matches_1994 <- read_csv(\"D:/atp_datas/atp_matches_1994.csv\")\natp_matches_1995 <- read_csv(\"D:/atp_datas/atp_matches_1995.csv\")\natp_matches_1996 <- read_csv(\"D:/atp_datas/atp_matches_1996.csv\")\natp_matches_1997 <- read_csv(\"D:/atp_datas/atp_matches_1997.csv\")\natp_matches_1998 <- read_csv(\"D:/atp_datas/atp_matches_1998.csv\")\natp_matches_1999 <- read_csv(\"D:/atp_datas/atp_matches_1999.csv\")\natp_matches_2000 <- read_csv(\"D:/atp_datas/atp_matches_2000.csv\")\natp_matches_2001 <- read_csv(\"D:/atp_datas/atp_matches_2001.csv\")\natp_matches_2002 <- read_csv(\"D:/atp_datas/atp_matches_2002.csv\")\natp_matches_2003 <- read_csv(\"D:/atp_datas/atp_matches_2003.csv\")\natp_matches_2004 <- read_csv(\"D:/atp_datas/atp_matches_2004.csv\")\natp_matches_2005 <- read_csv(\"D:/atp_datas/atp_matches_2005.csv\")\natp_matches_2006 <- read_csv(\"D:/atp_datas/atp_matches_2006.csv\")\natp_matches_2007 <- read_csv(\"D:/atp_datas/atp_matches_2007.csv\")\natp_matches_2008 <- read_csv(\"D:/atp_datas/atp_matches_2008.csv\")\natp_matches_2009 <- read_csv(\"D:/atp_datas/atp_matches_2009.csv\")\natp_matches_2010 <- read_csv(\"D:/atp_datas/atp_matches_2010.csv\")\natp_matches_2011 <- read_csv(\"D:/atp_datas/atp_matches_2011.csv\")\natp_matches_2012 <- read_csv(\"D:/atp_datas/atp_matches_2012.csv\")\natp_matches_2013 <- read_csv(\"D:/atp_datas/atp_matches_2013.csv\")\natp_matches_2014 <- read_csv(\"D:/atp_datas/atp_matches_2014.csv\")\natp_matches_2015 <- read_csv(\"D:/atp_datas/atp_matches_2015.csv\")\natp_matches_2016 <- read_csv(\"D:/atp_datas/atp_matches_2016.csv\")\natp_matches_2017 <- read_csv(\"D:/atp_datas/atp_matches_2017.csv\")\natp_players <- read_csv(\"D:/atp_datas/atp_players.csv\", \n    col_names = FALSE)\n```\n\n## 資料處理與清洗\n將歷年比賽資料合成一個單一的矩陣\n後在位包含欄位名稱的資料加上欄位名稱方便操作\n其餘資料皆符合Tidy data要求因此不再處理\n```{r}\n#這是R Code Chunk\natp_matches <- rbind(atp_matches_1968, atp_matches_1969, atp_matches_1970, atp_matches_1971, atp_matches_1972, atp_matches_1973, atp_matches_1974, atp_matches_1975, atp_matches_1976, atp_matches_1977, atp_matches_1978, atp_matches_1979, atp_matches_1980, atp_matches_1981, atp_matches_1982, atp_matches_1983, atp_matches_1984, atp_matches_1985, atp_matches_1986, atp_matches_1987, atp_matches_1988, atp_matches_1989, atp_matches_1990, atp_matches_1991, atp_matches_1992, atp_matches_1993, atp_matches_1994, atp_matches_1995, atp_matches_1996, atp_matches_1997, atp_matches_1998, atp_matches_1999, atp_matches_2000, atp_matches_2001, atp_matches_2002, atp_matches_2003, atp_matches_2004, atp_matches_2005, atp_matches_2006, atp_matches_2007, atp_matches_2008, atp_matches_2009, atp_matches_2010, atp_matches_2011, atp_matches_2012, atp_matches_2013, atp_matches_2014, atp_matches_2015, atp_matches_2016, atp_matches_2017)\n\nnames(atp_players) <- c(\"player_id\", \"first_name\", \"last_name\", \"player_hand\", \"date_of_birth\", \"player_ioc\")\n```\n\n## 探索式資料分析\n```{r}\n#這是R Code Chunk\n#install.packages(\"data.table\")\n#首先用ageAnalysis呈現各等級賽事奪冠年齡分析，由表可知平均奪冠年齡、最老冠軍及最年輕冠軍和冠軍們年齡標準差，如下；\nlibrary(data.table)\nageAnalysis <- data.table(atp_matches)\nageAnalysis <- ageAnalysis[round==\"F\"&!is.na(winner_age), .(Mean = mean(winner_age), Max = max(winner_age), Min = min(winner_age), SD = sd(winner_age)), by = tourney_level]\nageAnalysis\n\n#用列連表呈現國家和持拍手的關係，共分為雙手皆可持拍、右手持拍、左手持拍及未知，可看出一國持拍手組成比例；\nmtTable <- table(atp_players$player_ioc, atp_players$player_hand)\nprop.table(mtTable, margin = 1)\n\n#觀察一下相關性，下段呈現發出Ace球數量與球員身高的關係，有著正向的關係；\ncor(as.numeric(atp_matches[!is.na(atp_matches$w_ace)&!is.na(atp_matches$winner_ht),\"w_ace\"][[1]]), atp_matches[!is.na(atp_matches$w_ace)&!is.na(atp_matches$winner_ht), \"winner_ht\"])\ncor(as.numeric(atp_matches[!is.na(atp_matches$l_ace)&!is.na(atp_matches$loser_ht),\"l_ace\"][[1]]), atp_matches[!is.na(atp_matches$l_ace)&!is.na(atp_matches$loser_ht), \"loser_ht\"])\n\n#下段呈現發出Ace球數量與發出雙發失誤數量的關係，也有著正向的關係；\ncor(as.numeric(atp_matches[!is.na(atp_matches$w_ace)&!is.na(atp_matches$w_df),\"w_ace\"][[1]]), as.numeric(atp_matches[!is.na(atp_matches$w_ace)&!is.na(atp_matches$w_df), \"w_df\"][[1]]))\ncor(as.numeric(atp_matches[!is.na(atp_matches$l_ace)&!is.na(atp_matches$l_df),\"l_ace\"][[1]]), as.numeric(atp_matches[!is.na(atp_matches$l_ace)&!is.na(atp_matches$l_df), \"l_df\"][[1]]))\n```\n\n## 期末專題分析規劃\n在這次初期的探索式資料分析中，我們知道了一些有趣的事實，包括各個等級賽事的冠軍與年齡的平均數、標準差，還有Ace球與雙發失誤的相關性。接下來我們想研究更全面的網球賽事數據，包括：以國家及慣用手為分組，研究網球員的勝率、擅長場地、身高等資訊，企圖研究其中的關聯性，並且利用世界地圖加上密度圖來標示研究成果。\n\n我們假設：\n1. 國家與身高有強烈的正相關。 \n2. 慣用左手的網球員雖然數量比慣用右手的網球員少，但平均勝率會比較高。 3. 受到各個國家生長環境的影響，各個國家出身的選手可能會有特定擅長的場地類型。\n",
    "created" : 1496153264042.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "651840931",
    "id" : "84B8412",
    "lastKnownWriteTime" : 1496245104,
    "last_content_update" : 1496245104934,
    "path" : "~/GitHub/CGUIM_BigData_HW6-shinsekai-no-kami/README.Rmd",
    "project_path" : "README.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}